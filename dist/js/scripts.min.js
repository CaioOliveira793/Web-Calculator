class Calculator{constructor(e,n,r,i){this.expressionEl=document.querySelector(e),this.numberEl=document.querySelector(n),this.expression="",this.numberEl.innerHTML="0",this.operationConcluded=!1;const s=[...document.querySelectorAll(r)],t=[...document.querySelectorAll(i)];this.setCalculatorEvents(s,t)}operations={CE:()=>{this.numberEl.innerHTML="0"},C:()=>{this.numberEl.innerHTML="0",this.expressionEl.innerHTML="",this.expression=""},".":()=>{""===this.numberEl.innerHTML?this.numberEl.innerHTML="0.":this.numberEl.innerHTML.includes(".")||(this.numberEl.innerHTML+=".")},"+/-":()=>{if(""===this.numberEl.innerHTML)return;const e=this.numberEl.innerHTML;"-"===e[0]?this.numberEl.innerHTML=e.slice(1):this.numberEl.innerHTML="-"+e},"+":()=>{this.addOperation("+")},"-":()=>{this.addOperation("-")},"*":()=>{this.addOperation("*")},"/":()=>{this.addOperation("/")},"=":()=>{this.addOperation("=")}};setCalculatorEvents(e,n){e.forEach(e=>{e.onclick=()=>{this.addNumber(e.innerHTML)}}),n.forEach(e=>{e.onclick=()=>{this.operations[e.innerHTML]&&this.operations[e.innerHTML]()}})}addNumber(e){"0"===this.numberEl.innerHTML||"-0"===this.numberEl.innerHTML?this.numberEl.innerHTML=e:this.numberEl.innerHTML+=e}addOperation(operator){const currentNumber=this.numberEl.innerHTML,currentExpression=this.expressionEl.innerHTML.slice(0,-1);!0===this.operationConcluded&&(this.operationConcluded=!1,this.expressionEl.innerHTML=""),""===currentNumber?this.expressionEl.innerHTML=`${currentExpression} ${operator}`:(this.expressionEl.innerHTML+=` ${currentNumber} ${operator}`,this.expression=this.expressionEl.innerHTML.slice(0,-1),this.numberEl.innerHTML=""),"="===operator&&(this.numberEl.innerHTML=eval(this.expression),this.expression="",this.operationConcluded=!0)}}const myCalculator=new Calculator(".display-expression",".display-number",".btn-number",".btn-operator");